<?xml version="1.0" encoding="utf-8"?>
<rss version="2.0" xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:content="http://purl.org/rss/1.0/modules/content/">
    <channel>
        <title>GuguLH's Home Blog</title>
        <link>https://your-docusaurus-test-site.com/blog</link>
        <description>GuguLH's Home Blog</description>
        <lastBuildDate>Thu, 21 Mar 2024 00:00:00 GMT</lastBuildDate>
        <docs>https://validator.w3.org/feed/docs/rss2.html</docs>
        <generator>https://github.com/jpmonette/feed</generator>
        <language>zh-Hans</language>
        <item>
            <title><![CDATA[Go mod依赖管理]]></title>
            <link>https://your-docusaurus-test-site.com/blog/go mod依赖管理</link>
            <guid>https://your-docusaurus-test-site.com/blog/go mod依赖管理</guid>
            <pubDate>Thu, 21 Mar 2024 00:00:00 GMT</pubDate>
            <description><![CDATA[1. go.mod文件]]></description>
            <content:encoded><![CDATA[<h2 class="anchor anchorWithStickyNavbar_LWe7" id="1-gomod文件">1. go.mod文件<a href="#1-gomod文件" class="hash-link" aria-label="1. go.mod文件的直接链接" title="1. go.mod文件的直接链接">​</a></h2><div class="language-go codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-go codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">// 模块名</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">module </span><span class="token keyword" style="color:#00009f">go</span><span class="token operator" style="color:#393A34">-</span><span class="token plain">mod</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">// sdk 版本</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">go</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1.24</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">// 当前module(项目)依赖的包</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">require </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">//dependency latest</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">// 排除第三方包</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">exclude </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">//dependency latest</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">// 修改依赖包的路径或者版本</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">// 1 依赖包发生迁移</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">// 2 原始包无法访问</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">// 3 使用本地包替换原始包</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">replace </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">//source latest =&gt; target latest</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">// 撤回</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">retract </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">// 当前项目作为其他项目的依赖,如果某个版本出现了问题则撤回该版本</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">//v1.0.0</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="2-go-mod相关命令">2. go mod相关命令<a href="#2-go-mod相关命令" class="hash-link" aria-label="2. go mod相关命令的直接链接" title="2. go mod相关命令的直接链接">​</a></h2><div class="language-go codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-go codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain"># 将模块下载到本地缓存</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain">需要指定模块路径及版本号</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">go</span><span class="token plain"> mod download github</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">com</span><span class="token operator" style="color:#393A34">/</span><span class="token plain">gin</span><span class="token operator" style="color:#393A34">-</span><span class="token plain">gonic</span><span class="token operator" style="color:#393A34">/</span><span class="token plain">gin@v1</span><span class="token punctuation" style="color:#393A34">.</span><span class="token number" style="color:#36acaa">9.0</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># 初始化一个新的模块到当前目录</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">通常使用github等为域名</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">go</span><span class="token plain"> mod init github</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">com</span><span class="token operator" style="color:#393A34">/</span><span class="token plain">gugulh</span><span class="token operator" style="color:#393A34">/</span><span class="token plain">basic</span><span class="token operator" style="color:#393A34">-</span><span class="token keyword" style="color:#00009f">go</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># 添加缺少的依赖</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain">删除未使用的依赖</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">go</span><span class="token plain"> mod tidy</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># 通过工具或脚本编辑</span><span class="token keyword" style="color:#00009f">go</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">mod</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">通常不会使用这个命令进行编辑</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">go</span><span class="token plain"> mod edit </span><span class="token operator" style="color:#393A34">-</span><span class="token plain">require</span><span class="token operator" style="color:#393A34">=</span><span class="token string" style="color:#e3116c">"github.com/gin-gonic/gin@v1.9.0"</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># 根据</span><span class="token keyword" style="color:#00009f">go</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">mod中的依赖项制作vendor副本</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># 有了vendor副本</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain">项目将不再依赖本地缓存</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">go</span><span class="token plain"> mod vendor</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># 验证依赖是否正确</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">go</span><span class="token plain"> mod verify</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># 返回对指定模块的依赖关系最短路径</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain">解释为什么依赖指定包</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">go</span><span class="token plain"> mod why github</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">com</span><span class="token operator" style="color:#393A34">/</span><span class="token keyword" style="color:#00009f">go</span><span class="token operator" style="color:#393A34">-</span><span class="token plain">playground</span><span class="token operator" style="color:#393A34">/</span><span class="token plain">validator</span><span class="token operator" style="color:#393A34">/</span><span class="token plain">v10</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="3-go-installgetclean">3. go install/get/clean<a href="#3-go-installgetclean" class="hash-link" aria-label="3. go install/get/clean的直接链接" title="3. go install/get/clean的直接链接">​</a></h2><div class="language-go codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-go codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain"># </span><span class="token keyword" style="color:#00009f">go</span><span class="token plain"> install 安装可执行插件</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">go</span><span class="token plain"> install github</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">com</span><span class="token operator" style="color:#393A34">/</span><span class="token plain">google</span><span class="token operator" style="color:#393A34">/</span><span class="token plain">gops@latest</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># </span><span class="token keyword" style="color:#00009f">go</span><span class="token plain"> get 获取模块信息并更新</span><span class="token keyword" style="color:#00009f">go</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">mod文件</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># 若本地缓存没有该模块</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain">则下载模块</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain">有则直接引用</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">go</span><span class="token plain"> get github</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">com</span><span class="token operator" style="color:#393A34">/</span><span class="token plain">gin</span><span class="token operator" style="color:#393A34">-</span><span class="token plain">gonic</span><span class="token operator" style="color:#393A34">/</span><span class="token plain">gin@v1</span><span class="token punctuation" style="color:#393A34">.</span><span class="token number" style="color:#36acaa">9.0</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># </span><span class="token keyword" style="color:#00009f">go</span><span class="token plain"> get </span><span class="token operator" style="color:#393A34">-</span><span class="token plain">u 更新模块依赖</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain">并更新</span><span class="token keyword" style="color:#00009f">go</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">mod</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">go</span><span class="token plain"> get </span><span class="token operator" style="color:#393A34">-</span><span class="token plain">u github</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">com</span><span class="token operator" style="color:#393A34">/</span><span class="token plain">gin</span><span class="token operator" style="color:#393A34">-</span><span class="token plain">gonic</span><span class="token operator" style="color:#393A34">/</span><span class="token plain">gin@v1</span><span class="token punctuation" style="color:#393A34">.</span><span class="token number" style="color:#36acaa">9.0</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># </span><span class="token keyword" style="color:#00009f">go</span><span class="token plain"> clean 清理临时目录中的文件</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">go</span><span class="token plain"> clean </span><span class="token operator" style="color:#393A34">-</span><span class="token plain">modcache</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="4-go-install-和-go-get的区别">4. go install 和 go get的区别<a href="#4-go-install-和-go-get的区别" class="hash-link" aria-label="4. go install 和 go get的区别的直接链接" title="4. go install 和 go get的区别的直接链接">​</a></h2><p>二者都用于从远程仓库（如GitHub）下载包。go get侧重于获取和更新包及其依赖，并更新go.mod文件。go install则专注于编译和安装可执行文件，而不会更新go.mod文件。</p>]]></content:encoded>
            <category>Go</category>
        </item>
    </channel>
</rss>